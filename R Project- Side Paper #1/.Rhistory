for (i in 1:nrow(kwlist)){
trends <- gtrends(keyword = c(kwlist[i, 1], "IT Job"),
geo = c('US-CA'),
time = "2014-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime <- trendsbytime %>%  subset(keyword != "IT Job")
colnames(trendsbytime)[1] <- paste0(kwlist[i, 1])
trendsbytime <- data.frame(trendsbytime, row.names = TRUE)
trendsbycity <- data.frame(trends$interest_by_city)
trendsbycity <- trendsbycity %>% dplyr::select(-geo, -gprop)
trendsbycity <- trendsbycity %>%  subset(keyword != "IT Job")
colnames(trendsbycity)[1] <- paste0(kwlist[i, 1])
trendsbycity <- data.frame(trendsbycity)
results.time <- cbind(results.time, trendsbytime)
results.city <- full_join(results.city, trendsbycity, by = "location")
#results.city <- cbind(results.city, trendsbycity)
}
View(trendsbycity)
trends$interest_by_city
trends$interest_by_city
trendsbycity <- data.frame(trends$interest_by_city)
trendsbycity <- trendsbycity %>% dplyr::select(-geo, -gprop)
trendsbycity <- trendsbycity %>%  subset(keyword != "IT Job")
colnames(trendsbycity)[1] <- paste0(kwlist[i, 1])
trendsbycity <- data.frame(trendsbycity)
View(trendsbycity)
trendsbycity <- data.frame(trends$interest_by_city)
trendsbycity <- trendsbycity %>% dplyr::select(-geo, -gprop)
trendsbycity <- trendsbycity %>%  subset(keyword != "IT Job")
# Loop gtrends functions and save output to results data frame
for (i in 1:nrow(kwlist)){
trends <- gtrends(keyword = c(kwlist[i, 1], "IT Job"),
geo = c('US-CA'),
time = "2014-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime <- trendsbytime %>%  subset(keyword != "IT Job")
colnames(trendsbytime)[1] <- paste0(kwlist[i, 1])
trendsbytime <- data.frame(trendsbytime, row.names = TRUE)
trendsbycity <- data.frame(trends$interest_by_city)
trendsbycity <- trendsbycity %>% dplyr::select(-geo, -gprop)
trendsbycity <- trendsbycity %>%  subset(keyword != "IT Job")
colnames(trendsbycity)[1] <- paste0(kwlist[i, 2])
trendsbycity <- data.frame(trendsbycity)
results.time <- cbind(results.time, trendsbytime)
results.city <- full_join(results.city, trendsbycity, by = "location")
#results.city <- cbind(results.city, trendsbycity)
}
trends <- gtrends(keyword = c('McDonalds', 'IT Job'),
geo = c('US-CA'),
time = "2014-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
results.time <- results.time %>% dplyr::select(-geo, -time, -gprop, -category)
results.time <- results.time %>% subset(keyword != "IT Job")
results.time <- data.frame(results.time, row.names = TRUE)
results.city <- data.frame(trends$interest_by_city)
results.city <- results.city %>% dplyr::select(-geo, -gprop)
results.city <- results.city %>% subset(keyword != "IT Job")
results.city <- data.frame(results.city)
trends <- gtrends(keyword = c('McDonalds', 'IT Job'),
geo = c('US-CA'),
time = "2014-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
results.time <- data.frame(trends$interest_over_time)
results.time <- results.time %>% dplyr::select(-geo, -time, -gprop, -category)
results.time <- results.time %>% subset(keyword != "IT Job")
results.time <- data.frame(results.time, row.names = TRUE)
results.city <- data.frame(trends$interest_by_city)
results.city <- results.city %>% dplyr::select(-geo, -gprop)
results.city <- results.city %>% subset(keyword != "IT Job")
results.city <- data.frame(results.city)
# Import keywords list
kwlist <- read.csv("Fast Food Keywords.csv")
# Loop gtrends functions and save output to results data frame
for (i in 1:nrow(kwlist)){
trends <- gtrends(keyword = c(kwlist[i, 1], "IT Job"),
geo = c('US-CA'),
time = "2014-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime <- trendsbytime %>%  subset(keyword != "IT Job")
colnames(trendsbytime)[1] <- paste0(kwlist[i, 1])
trendsbytime <- data.frame(trendsbytime, row.names = TRUE)
trendsbycity <- data.frame(trends$interest_by_city)
trendsbycity <- trendsbycity %>% dplyr::select(-geo, -gprop)
trendsbycity <- trendsbycity %>%  subset(keyword != "IT Job")
colnames(trendsbycity)[2] <- paste0(kwlist[i, 1])
trendsbycity <- data.frame(trendsbycity)
results.time <- cbind(results.time, trendsbytime)
results.city <- full_join(results.city, trendsbycity, by = "location")
#results.city <- cbind(results.city, trendsbycity)
}
View(results.city)
View(results.time)
trendsbycity <- data.frame(trends$interest_by_city)
trendsbycity <- trendsbycity %>% dplyr::select(-geo, -gprop)
trendsbycity <- trendsbycity %>%  subset(keyword != "IT Job")
colnames(trendsbycity)[2] <- paste0(kwlist[i, 1])
View(trendsbycity)
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime <- trendsbytime %>%  subset(keyword != "IT Job")
colnames(trendsbytime)[1] <- paste0(kwlist[i, 1])
View(trendsbytime)
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime <- trendsbytime %>%  subset(keyword != "IT Job")
colnames(trendsbytime)[2] <- paste0(kwlist[i, 1])
trends <- gtrends(keyword = c('McDonalds', 'IT Job'),
geo = c('US-CA'),
time = "2014-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
trends <- gtrends(keyword = c('McDonalds', 'IT Job'),
geo = c('US-CA'),
time = "2014-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
#Load packages
library(readr)
library(gtrendsR)
library(purrr)
library(GTT)
library(dplyr)
setwd("C:/Users/cjkno/Documents/My Documents/Classes - '23 Spring/Research/Paper (Side) #1/DATA/Google Trends")
trends <- gtrends(keyword = c('McDonalds', 'IT Job'),
geo = c('US-CA'),
time = "2010-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
results.time <- data.frame(trends$interest_over_time)
results.time <- results.time %>% dplyr::select(-geo, -time, -gprop, -category)
results.time <- results.time %>% subset(keyword != "IT Job")
colnames(results.time)[2] <- paste0(kwlist[i, 1])
results.time <- data.frame(results.time, row.names = TRUE)
results.city <- data.frame(trends$interest_by_city)
results.city <- results.city %>% dplyr::select(-geo, -gprop)
results.city <- results.city %>% subset(keyword != "IT Job")
colnames(results.city)[2] <- paste0(kwlist[i, 1])
# Import keywords list
kwlist <- read.csv("Fast Food Keywords.csv")
# Loop gtrends functions and save output to results data frame
for (i in 1:nrow(kwlist)){
trends <- gtrends(keyword = c(kwlist[i, 1], "IT Job"),
geo = c('US-CA'),
time = "2010-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime <- trendsbytime %>%  subset(keyword != "IT Job")
colnames(trendsbytime)[2] <- paste0(kwlist[i, 1])
trendsbytime <- data.frame(trendsbytime, row.names = TRUE)
trendsbycity <- data.frame(trends$interest_by_city)
trendsbycity <- trendsbycity %>% dplyr::select(-geo, -gprop)
trendsbycity <- trendsbycity %>%  subset(keyword != "IT Job")
colnames(trendsbycity)[2] <- paste0(kwlist[i, 1])
results.time <- cbind(results.time, trendsbytime)
results.city <- full_join(results.city, trendsbycity, by = "location")
#results.city <- cbind(results.city, trendsbycity)
}
trends <- gtrends(keyword = c('IT Job'),
geo = c('US-CA'),
time = "2010-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
#Load packages
library(readr)
library(gtrendsR)
library(purrr)
library(GTT)
library(dplyr)
setwd("C:/Users/cjkno/Documents/My Documents/Classes - '23 Spring/Research/Paper (Side) #1/DATA/Google Trends")
trends <- gtrends(keyword = c('IT Job'),
geo = c('US-CA'),
time = "2010-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
trends <- gtrends(keyword = c('IT Job'),
geo = c('US-CA'),
time = "2010-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
#Load packages
library(readr)
library(gtrendsR)
library(purrr)
library(GTT)
library(dplyr)
trends <- gtrends(keyword = c('IT Job'),
geo = c('US-CA'),
time = "2010-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
trends <- gtrends(keyword = c('McDonalds', 'IT Job'),
geo = c('US-CA'),
time = "2010-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
View(trends)
trends[["interest_over_time"]][["keyword"]]
results.time <- data.frame(trends$interest_over_time)
results.time <- results.time %>% dplyr::select(-geo, -time, -gprop, -category)
results.time <- results.time %>% subset(keyword != "McDonalds")
colnames(results.time)[2] <- paste0(kwlist[i, 1])
results.time <- data.frame(results.time, row.names = TRUE)
View(results.time)
View(results.time)
results.time <- data.frame(trends$interest_over_time)
View(results.time)
results.time <- results.time %>% dplyr::select(-geo, -time, -gprop, -category)
results.time <- results.time %>% subset(keyword != "McDonalds")
View(results.time)
colnames(results.time)[2] <- paste0(results.time[i, 1])
results.time[1, 3]
results.time <- data.frame(trends$interest_over_time)
results.time <- results.time %>% dplyr::select(-geo, -time, -gprop, -category)
results.time <- results.time %>% subset(keyword != "McDonalds")
colnames(results.time)[3] <- paste0(results.time[1, 3])
results.time <- data.frame(results.time, row.names = TRUE)
results.time <- data.frame(trends$interest_over_time)
results.time <- results.time %>% dplyr::select(-geo, -time, -gprop, -category)
results.time <- results.time %>% subset(keyword != "McDonalds")
colnames(results.time)[2] <- paste0(results.time[1, 3])
results.time <- data.frame(results.time, row.names = TRUE)
results.city <- data.frame(trends$interest_by_city)
results.city <- results.city %>% dplyr::select(-geo, -gprop)
results.city <- results.city %>% subset(keyword != "McDonalds")
colnames(results.city)[2] <- paste0(kwlist[1, 3])
colnames(results.city)[2] <- paste0(results.city[1, 3])
results.time <- data.frame(trends$interest_over_time)
results.time <- results.time %>% dplyr::select(-geo, -time, -gprop, -category)
results.time <- results.time %>% subset(keyword != "McDonalds")
colnames(results.time)[2] <- paste0(results.time[1, 3])
results.time <- data.frame(results.time, row.names = TRUE)
results.time <- results.time %>% dplyr::select(-keyword)
results.city <- data.frame(trends$interest_by_city)
results.city <- results.city %>% dplyr::select(-geo, -gprop)
results.city <- results.city %>% subset(keyword != "McDonalds")
colnames(results.city)[2] <- paste0(results.city[1, 3])
results.city <- results.city %>% dplyr::select(-keyword)
# Import keywords list
kwlist <- read.csv("Fast Food Keywords.csv")
# Loop gtrends functions and save output to results data frame
for (i in 1:nrow(kwlist)){
trends <- gtrends(keyword = c(kwlist[i, 1], "IT Job"),
geo = c('US-CA'),
time = "2010-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime <- trendsbytime %>%  subset(keyword != "IT Job")
colnames(trendsbytime)[2] <- paste0(kwlist[i, 1])
trendsbytime <- data.frame(trendsbytime, row.names = TRUE)
trendsbytime <- trendsbytime %>% dplyr::select(-keyword)
trendsbycity <- data.frame(trends$interest_by_city)
trendsbycity <- trendsbycity %>% dplyr::select(-geo, -gprop)
trendsbycity <- trendsbycity %>%  subset(keyword != "IT Job")
colnames(trendsbycity)[2] <- paste0(kwlist[i, 1])
trendsbycity <- trendsbycity %>% dplyr::select(-keyword)
results.time <- cbind(results.time, trendsbytime)
results.city <- full_join(results.city, trendsbycity, by = "location")
#results.city <- cbind(results.city, trendsbycity)
}
write.csv(results.time, file = "GTrends Mined Data - Time.csv")
write.csv(results.city, file = "GTrends Mined Data - City.csv")
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime <- trendsbytime %>%  subset(keyword != "IT Job")
trendsbytime <- data.frame(trendsbytime, row.names = TRUE)
trendsbytime.IT <- trendsbytime %>%  subset(keyword = "IT Job")
trendsbytime.IT <- data.frame(trendsbytime.IT, row.names = TRUE)
#Load packages
library(readr)
library(gtrendsR)
library(purrr)
library(GTT)
library(dplyr)
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime <- trendsbytime %>%  subset(keyword != "IT Job")
trendsbytime <- data.frame(trendsbytime, row.names = TRUE)
trendsbytime.IT <- trendsbytime %>%  subset(keyword = "IT Job")
trendsbytime.IT <- data.frame(trendsbytime.IT, row.names = TRUE)
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime.IT <- trendsbytime %>%  subset(keyword = "IT Job")
trendsbytime.IT <- data.frame(trendsbytime.IT, row.names = TRUE)
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime.IT <- trendsbytime %>%  subset(keyword == "IT Job")
View(trendsbytime.IT)
trendsbytime.IT <- data.frame(trendsbytime.IT, row.names = TRUE)
trendsbytime <- trendsbytime %>%  subset(keyword != "IT Job")
trendsbytime <- data.frame(trendsbytime, row.names = TRUE)
trendsbytime <- cbind(trendsbytime, trendsbytime.IT)
trendsbytime[1] <- trendsbytime[1]/trendsbytime[3]
trendsbytime[1] <- trendsbytime[1]/trendsbytime[3]
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
library(readr)
library(gtrendsR)
library(purrr)
library(GTT)
library(dplyr)
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime.IT <- trendsbytime %>%  subset(keyword == "IT Job")
trendsbytime.IT <- data.frame(trendsbytime.IT, row.names = TRUE)
trendsbytime <- trendsbytime %>%  subset(keyword != "IT Job")
trendsbytime <- data.frame(trendsbytime, row.names = TRUE)
trendsbytime <- cbind(trendsbytime, trendsbytime.IT)
trendsbytime$KeywordStandardized <- trendsbytime[1]/trendsbytime[3]
1/54
colnames(trendsbytime$KeywordStandardized) <- paste0(kwlist[i, 1])
colnames(trendsbytime)["KeywordStandardized"] <- paste0(kwlist[i, 1])
colnames(trendsbytime)[["KeywordStandardized"]] <- paste0(kwlist[i, 1])
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime.IT <- trendsbytime %>%  subset(keyword == "IT Job")
trendsbytime.IT <- data.frame(trendsbytime.IT, row.names = TRUE)
trendsbytime <- trendsbytime %>%  subset(keyword != "IT Job")
trendsbytime <- data.frame(trendsbytime, row.names = TRUE)
trendsbytime <- cbind(trendsbytime, trendsbytime.IT)
trendsbytime$KeywordStandardized <- trendsbytime[1]/trendsbytime[3]
colnames(trendsbytime)["KeywordStandardized"] <- paste0(kwlist[i, 1])
colnames(trendsbytime)["KeywordStandardized$hits"] <- paste0(kwlist[i, 1])
colnames(trendsbytime)["KeywordStandardized$hits"] <- paste0("kwlist[i, 1]")
colnames(trendsbytime)["KeywordStandardized$hits"] <- paste0("kwlist[i, 1]")
colnames(trendsbytime)[5] <- paste0(kwlist[i, 1])
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime.IT <- trendsbytime %>%  subset(keyword == "IT Job")
trendsbytime.IT <- data.frame(trendsbytime.IT, row.names = TRUE)
trendsbytime <- trendsbytime %>%  subset(keyword != "IT Job")
trendsbytime <- data.frame(trendsbytime, row.names = TRUE)
trendsbytime <- cbind(trendsbytime, trendsbytime.IT)
trendsbytime$KeywordStandardized <- trendsbytime[1]/trendsbytime[3]
colnames(trendsbytime)[5] <- paste0(kwlist[i, 1])
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
trendsbytime.IT <- trendsbytime %>%  subset(keyword == "IT Job")
trendsbytime.IT <- data.frame(trendsbytime.IT, row.names = TRUE)
trendsbytime <- trendsbytime %>%  subset(keyword != "IT Job")
trendsbytime <- data.frame(trendsbytime, row.names = TRUE)
trendsbytime <- cbind(trendsbytime, trendsbytime.IT)
trendsbytime$KeywordStandardized <- trendsbytime[1]/trendsbytime[3]
colnames(trendsbytime)[5] <- paste0(kwlist[i, 1])
trendsbytime <- trendsbytime %>% dplyr::select(-keyword, -keyword.1, -hits, -hits.1)
trendsbytime <- trendsbytime %>% dplyr::select(-keyword, -hits)
trendsbycity <- data.frame(trends$interest_by_city)
trendsbycity <- trendsbycity %>% dplyr::select(-geo, -gprop)
trendsbycity.IT <- trendsbycity %>%  subset(keyword == "IT Job")
trendsbycity <- trendsbycity %>%  subset(keyword != "IT Job")
trendsbycity <- cbind(trendsbycity, trendsbycity.IT)
trendsbycity <- data.frame(trends$interest_by_city)
trendsbycity <- trendsbycity %>% dplyr::select(-geo, -gprop)
#Load packages
library(readr)
library(gtrendsR)
library(purrr)
library(GTT)
library(dplyr)
trendsbycity <- data.frame(trends$interest_by_city)
trendsbycity <- trendsbycity %>% dplyr::select(-geo, -gprop)
trendsbycity.IT <- trendsbycity %>%  subset(keyword == "IT Job")
trendsbycity <- trendsbycity %>%  subset(keyword != "IT Job")
trendsbycity <- cbind(trendsbycity, trendsbycity.IT)
View(trendsbycity)
View(trendsbycity.IT)
trendsbycity <- full_join(trendsbycity, trendsbycity.IT, by = "location")
trendsbycity$KeywordStandardized <- trendsbycity[2]/trendsbycity[4]
colnames(trendsbycity)[6] <- paste0(kwlist[i, 1])
trendsbycity <- trendsbycity %>% dplyr::select(-keyword, -hits)
trendsbycity <- trendsbycity %>% dplyr::select(-keyword.x, -keyword, -hits, -hits.x)
trendsbycity <- trendsbycity %>% dplyr::select(-keyword.x, -keyword.y, -hits.y, -hits.x)
trends <- gtrends(keyword = c('McDonalds', 'IT Job'),
geo = c('US-CA'),
time = "2010-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
#Clean
results.time <- data.frame(trends$interest_over_time)
results.time <- results.time %>% dplyr::select(-geo, -time, -gprop, -category)
#Clean
results.time <- data.frame(trends$interest_over_time)
results.time <- results.time %>% dplyr::select(-geo, -time, -gprop, -category)
View(results.time)
# TIME: Split query of interest and standardizing query into different columns
results.time.IT <- results.time %>%  subset(keyword == "IT Job")
results.time.IT <- data.frame(results.time, row.names = TRUE)
View(results.time.IT)
results.time.IT <- data.frame(results.time, row.names = TRUE)
# TIME: Split query of interest and standardizing query into different columns
results.time.IT <- results.time %>%  subset(keyword == "IT Job")
results.time.IT <- data.frame(results.time, row.names = TRUE)
#Load packages
library(readr)
library(gtrendsR)
library(purrr)
library(GTT)
library(dplyr)
setwd("C:/Users/cjkno/Documents/My Documents/Classes - '23 Spring/Research/Paper (Side) #1/DATA/Google Trends")
#Clean
results.time <- data.frame(trends$interest_over_time)
results.time <- results.time %>% dplyr::select(-geo, -time, -gprop, -category)
# TIME: Split query of interest and standardizing query into different columns
results.time.IT <- results.time %>%  subset(keyword == "IT Job")
results.time.IT <- data.frame(results.time, row.names = TRUE)
# TIME: Split query of interest and standardizing query into different columns
results.time.IT <- results.time %>%  subset(keyword == "IT Job")
results.time.IT <- data.frame(results.time.IT, row.names = TRUE)
results.time <- results.time %>%  subset(keyword != "IT Job")
results.time <- data.frame(results.time, row.names = TRUE)
View(results.time)
View(results.time.IT)
results.time <- cbind(results.time, results.time.IT)
View(results.time)
# Divide query of interest by standardizing query
results.time$KeywordStandardized <- results.time[1]/results.time[3]
colnames(results.time)[5] <- paste0(kwlist[i, 1])
colnames(results.time)[5] <- paste0(results.time[1, 2])
results.time <- results.time %>% dplyr::select(-keyword, -hits)
# Clean
results.city <- data.frame(trends$interest_by_city)
results.city <- results.city %>% dplyr::select(-geo, -gprop)
View(results.city)
# CITY: Split query of interest and standardizing query into different columns
results.city.IT <- results.city %>%  subset(keyword == "IT Job")
results.city <- results.city %>%  subset(keyword != "IT Job")
View(results.city.IT)
results.city <- full_join(results.city, results.city.IT, by = "location")
# Divide query of interest by standardizing query
results.city$KeywordStandardized <- results.city[2]/results.city[4]
colnames(results.city)[6] <-paste0(results.city[1, 3])
results.city <- results.city %>% dplyr::select(-keyword.x, -keyword.y, -hits.y, -hits.x)
View(results.time)
# Import keywords list
kwlist <- read.csv("Fast Food Keywords.csv")
# Loop gtrends functions and save output to results data frame
for (i in 1:nrow(kwlist)){
trends <- gtrends(keyword = c(kwlist[i, 1], "IT Job"),
geo = c('US-CA'),
time = "2010-01-01 2022-12-31",
gprop = "web",
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID")
#Clean
trendsbytime <- data.frame(trends$interest_over_time)
trendsbytime <- trendsbytime %>% dplyr::select(-geo, -time, -gprop, -category)
# TIME: Split query of interest and standardizing query into different columns
trendsbytime.IT <- trendsbytime %>%  subset(keyword == "IT Job")
trendsbytime.IT <- data.frame(trendsbytime.IT, row.names = TRUE)
trendsbytime <- trendsbytime %>%  subset(keyword != "IT Job")
trendsbytime <- data.frame(trendsbytime, row.names = TRUE)
trendsbytime <- cbind(trendsbytime, trendsbytime.IT)
# Divide query of interest by standardizing query
trendsbytime$KeywordStandardized <- trendsbytime[1]/trendsbytime[3]
colnames(trendsbytime)[5] <- paste0(kwlist[i, 1])
trendsbytime <- trendsbytime %>% dplyr::select(-keyword, -hits)
# Clean
trendsbycity <- data.frame(trends$interest_by_city)
trendsbycity <- trendsbycity %>% dplyr::select(-geo, -gprop)
# CITY: Split query of interest and standardizing query into different columns
trendsbycity.IT <- trendsbycity %>%  subset(keyword == "IT Job")
trendsbycity <- trendsbycity %>%  subset(keyword != "IT Job")
trendsbycity <- full_join(trendsbycity, trendsbycity.IT, by = "location")
# Divide query of interest by standardizing query
trendsbycity$KeywordStandardized <- trendsbycity[2]/trendsbycity[4]
colnames(trendsbycity)[6] <- paste0(kwlist[i, 1])
trendsbycity <- trendsbycity %>% dplyr::select(-keyword.x, -keyword.y, -hits.y, -hits.x)
results.time <- cbind(results.time, trendsbytime)
results.city <- full_join(results.city, trendsbycity, by = "location")
}
View(results.city)
View(results.time)
write.csv(results.time, file = "GTrends Mined Data - Time.csv")
write.csv(results.city, file = "GTrends Mined Data - City.csv")
write.csv(results.time, file = "GTrends Mined Data - Time.csv")
write.csv(results.city, file = "GTrends Mined Data - City.csv")
write.csv(results.time, file = "GTrends Mined Data - Time.csv")
write.csv(results.city, file = "GTrends Mined Data - City.csv")
write.csv(results.time, file = "GTrends Mined Data - Time.csv", row.names = T)
write.csv(results.city, file = "GTrends Mined Data - City.csv", row.names = T)
